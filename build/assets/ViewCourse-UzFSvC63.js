import{k as v,r as u,i as b,j as e,e as w,f as x,g as h}from"./index-rN5JyR99.js";function y(){var d,m;const p=JSON.parse(localStorage.dataAuth).customerAttributeId,c=v(),[r,i]=u.useState(0),[n,o]=u.useState(!1),f="https://player.vdocipher.com/v2",j=(t,l)=>x.get(`${h}/Courses/GetCourseDetails?courseId=${t}&userId=${l}`),{data:s}=b("getCourseDetials",()=>j(c.id,p),{refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1}),N=t=>x.get(`${h}/Videos/GetCourseVideos?courseId=${t}`),{data:a,isLoading:g}=b("getVideos",()=>N(c.id),{refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1});return console.log(a),g?e.jsx(w,{}):e.jsx(e.Fragment,{children:e.jsx("section",{className:"view-course",children:e.jsx("div",{className:"container-fluid",children:e.jsxs("div",{className:"row mt-3",children:[e.jsxs("div",{className:"col-md-7 col-lg-8",children:[e.jsx("h4",{children:s==null?void 0:s.data.name}),e.jsx("div",{className:"",children:n?e.jsxs("div",{className:"video",children:[e.jsx("iframe",{src:`${f}/?otp=${(d=a==null?void 0:a.data[r])==null?void 0:d.otp}&playbackInfo=${(m=a==null?void 0:a.data[r])==null?void 0:m.playbackInfo}`,style:{border:"0",height:"450px",width:"100%",borderRadius:"15px"},allowFullScreen:!0,allow:"encrypted-media","aria-atomic":!0,"aria-live":"polite",title:"video"}),e.jsx("p",{children:a==null?void 0:a.data[r].lectureName})]}):e.jsxs("div",{className:"",children:[e.jsx("div",{className:"video img-course my-shadow border rounded-4 overflow-hidden",children:e.jsx("img",{className:"w-100 h-100 object-fit-fill",src:s==null?void 0:s.data.photo})}),e.jsx("p",{children:s==null?void 0:s.data.desc})]})}),n?"":e.jsx("button",{onClick:()=>{i(0),o(!0)},className:"btn bg-grdient w-100",children:"Start"})]}),e.jsx("div",{className:"col-md-5 col-lg-4 pt-3 mt-4",children:e.jsxs("div",{className:"plal-list",children:[e.jsxs("ul",{className:"nav nav-tabs nav-justified border-0",id:"myTab",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:"nav-link active",id:"module-tab","data-bs-toggle":"tab","data-bs-target":"#module-tab-pane",type:"button",role:"tab","aria-controls":"module-tab-pane","aria-selected":"true",children:"MODULE"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:"nav-link",id:"liveComments-tab","data-bs-toggle":"tab","data-bs-target":"#liveComments-tab-pane",type:"button",role:"tab","aria-controls":"liveComments-tab-pane","aria-selected":"false",children:"LIVE COMMENTS"})})]}),e.jsxs("div",{className:"tab-content",id:"myTabContent",children:[e.jsx("div",{className:"tab-pane fade show active",id:"module-tab-pane",role:"tabpanel","aria-labelledby":"module-tab",tabIndex:"0",children:e.jsx("div",{className:"row",children:a==null?void 0:a.data.map((t,l)=>e.jsx("button",{className:"btn fs-small overflow-hidden",onClick:()=>{i(l%(a==null?void 0:a.data.length)),o(!0)},children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"lesson d-flex mt-2 gap-2 align-items-center",children:[r===l&n?e.jsx("i",{className:"fa-solid fa-circle text-main"}):e.jsx("i",{className:"fa-regular fa-circle"}),e.jsx("i",{className:`fa-regular fa-circle-play  ${r===l&n?"text-main":""}`}),e.jsxs("span",{className:`fw-bold ${r===l&n?"text-main":""}`,children:[l+1," -"]}),e.jsx("p",{className:`text-black m-0 text-nowrap ${r===l&n?"text-main":""} `,children:t.lectureName.length>35?`${t.lectureName.slice(0,30)}...`:t.lectureName})]})})},t.otp))})}),e.jsx("div",{className:"tab-pane fade",id:"liveComments-tab-pane",role:"tabpanel","aria-labelledby":"liveComments-tab",tabIndex:"0",children:"Live Comments"})]})]})})]})})})})}export{y as default};
