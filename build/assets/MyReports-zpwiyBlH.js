import{r as d,d as j,j as e,c as p,A as u,q as n,f,g as N,h as o}from"./index-rN5JyR99.js";import{B as m,D as g,a as v,b as y}from"./Typography-YVUBnHeO.js";import{D as w}from"./DialogTitle-BbVweCPi.js";import{D}from"./DialogContentText-tu1HCV76.js";function C(){const[x,r]=d.useState(!1),[l,c]=d.useState([]),b=()=>{r(!0)},i=()=>{r(!1)},h=s=>{f.get(`${N}/User/SearchAboutToken?tokenNumber=${s.tokenNumber}`).then(a=>{c([a.data])}).catch(a=>{c([]),a.response.data==="Token not used before"?o.info(a.response.data):o.error(a.response.data)})},t=j({initialValues:{tokenNumber:""},onSubmit:s=>{h(s)}});return e.jsxs(p.Fragment,{children:[e.jsx(m,{variant:"outlined",className:"bg-grdient text-capitalize fw-bold border-0 ",onClick:b,children:"Report Token"}),e.jsxs(g,{open:x,onClose:i,children:[e.jsx(w,{className:"bg-main-color ",children:"Report about token!"}),e.jsxs(v,{className:"bg-main-color",style:{width:"clamp(340px,50vw,500px)"},children:[e.jsx("form",{onChange:t.handleChange,onSubmit:t.handleSubmit,className:"",children:e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("input",{required:!0,onChange:t.handleChange,type:"text",className:"form-control",placeholder:"Enter Token",name:"tokenNumber"}),e.jsx("button",{type:"submit",className:"bg-grdient position-absolute end-0 top-0 h-100 p-2 border border-1",children:e.jsx("i",{className:"fa-solid fa-search"})})]})})})}),l==null?void 0:l.map(s=>e.jsx(D,{className:"mt-4",children:e.jsx("div",{className:"box-report bg-body rounded-3 overflow-hidden px-3",children:s.isUsed?e.jsxs("div",{className:"",children:[e.jsx("div",{className:"border-bottom py-2 d-flex justify-content-between",children:e.jsx("label",{className:"m-auto fw-bold text-danger",children:"Used"})}),e.jsx("div",{className:"rounded-circle shadow overflow-hidden m-auto mt-2",style:{width:"100px",height:"100px"},children:e.jsx(u,{sx:{width:100,height:100,background:""},alt:s.imgUrl,src:s.imgUrl})}),e.jsxs("div",{className:"desc-profile my-fw-bold mt-3 mb-3",children:[e.jsx("div",{className:"border-bottom pb-4 d-flex justify-content-center",children:e.jsx("span",{children:s==null?void 0:s.paidby})}),e.jsxs("div",{className:"border-bottom py-2 d-flex justify-content-between mt-4",children:[e.jsx("label",{className:"text-black",children:"ID"}),e.jsx("span",{children:s==null?void 0:s.backOfficeId})]}),e.jsxs("div",{className:"border-bottom py-2 d-flex justify-content-between",children:[e.jsx("label",{className:"text-black",children:"Price"}),e.jsx("span",{children:s==null?void 0:s.value})]}),e.jsxs("div",{className:"border-bottom py-2 d-flex justify-content-between",children:[e.jsx("label",{className:"text-black",children:"Paid Date"}),e.jsx(e.Fragment,{children:s!=null&&s.paidDate?n(new Date(s.paidDate),"MMM d, y h:m a"):""})]})]})]}):e.jsxs("div",{className:"",children:[e.jsx("div",{className:"border-bottom py-2 d-flex justify-content-between",children:e.jsx("label",{className:"m-auto fw-bold text-success",children:"Not Used"})}),e.jsxs("div",{className:"border-bottom py-2 d-flex justify-content-between",children:[e.jsx("label",{className:"text-black fw-bold",children:"Creation Date"}),e.jsx(e.Fragment,{children:s!=null&&s.createdDate?n(new Date(s.createdDate),"MMM d, y h:m a"):""})]}),e.jsxs("div",{className:"border-bottom py-2 d-flex justify-content-between",children:[e.jsx("label",{className:"text-black fw-bold",children:"Price"}),e.jsx("span",{children:s==null?void 0:s.value})]})]})})},s)),e.jsx(y,{className:"bg-main-color mt-4 pt-3 border-top",children:e.jsx(m,{className:"",onClick:i,children:"Cancel"})})]})]})]})}function S(){return e.jsx(e.Fragment,{children:e.jsx("section",{className:"reports",children:e.jsx("div",{className:"px-3",children:e.jsx("div",{className:"row justify-content-center mt-4",children:e.jsx("div",{className:"col-6 text-center",children:e.jsx("div",{className:"",children:e.jsx(C,{})})})})})})})}export{S as default};
