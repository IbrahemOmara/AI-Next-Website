import{u as A,r as l,d as B,j as e,e as p,L as f,l as P,B as T,f as i,g as c}from"./index-rN5JyR99.js";/* empty css               */import{c as V,a as r}from"./index.esm-CXOl1EUC.js";const Y="/assets/bg6-BY62Lcy_.png";function J(){let j=A();const[g,b]=l.useState({}),[t,m]=l.useState("btn disabled opacity-25 border-0"),[v,I]=l.useState([]),[h,d]=l.useState(!1),[u,y]=l.useState(!1),[S,w]=l.useState("d-none"),[C,$]=l.useState(!1),[F,x]=l.useState("d-none");async function L(){await i.get(`${c}/User/GeTAllCountries`).then(({data:a})=>{I(a.data||[])}).catch(a=>{var n,o;console.log(((o=(n=a.response)==null?void 0:n.data)==null?void 0:o.message)||a.message)})}async function N(a){await i.get(`${c}/User/${a}`).then(({data:n})=>{b(n),n.backOfficeId==a&&(m(""),x("d-none"))}).catch(n=>{x("d-block")})}function U(a){i.post(`${c}/User/authenticate`,a).then(({data:n})=>{console.log(n),localStorage.setItem("dataAuth",JSON.stringify(n)),j("/packages")}).catch(n=>{console.log(a),console.log(n)})}function D(a){d(!0),i.post(`${c}/User/NewSignup`,a).then(({data:n})=>{console.log(n);const o={username:n.email,password:n.password};U(o),d(!1)}).catch(n=>{w("d-block"),d(!1)})}function k(){return new V({fName:r().min(2).max(20).required(),lName:r().min(2).max(20).required(),email:r().email().required(),phoneNumber:r().required(),nationalId:r().required(),countryId:r().required(),sponsorId:r().min(4).required()})}let s=B({initialValues:{sponsorId:"",email:"",phoneNumber:"",fName:"",lName:"",countryId:63,nationalId:""},validationSchema:k,onSubmit:async a=>{const n=a.fName+" "+a.lName;delete a.fName,delete a.lName,a.name=n,a.countryId=parseInt(a.countryId),console.log(a),D(a)}});const q=async a=>{await N(a)},E=()=>{C&&(m("btn disabled opacity-25 border-0"),N(s.values.sponsorId)),$(!0)};return l.useEffect(()=>{setTimeout(()=>{y(!1)},1e3),L()},[]),u?e.jsx(p,{}):e.jsxs(e.Fragment,{children:[u?e.jsx(p,{}):"",e.jsxs("section",{className:"sign-up",id:"signUp",children:[e.jsx("div",{className:"bg-sign-up",children:e.jsx("img",{src:Y,className:"w-100 h-100 object-fit-fill"})}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"bg-form sign-up-content",children:[e.jsx("div",{className:"ms-2 header-form text-center",children:e.jsxs("div",{className:"row d-flex ",children:[e.jsx("div",{className:"col-md-5 p-0 w-100 mb-3",children:e.jsx(f,{to:"/",children:e.jsx("div",{className:"logo",children:e.jsx("img",{className:"w-100 h-100 ",src:P})})})}),e.jsx("div",{className:"col-md-7 w-100",children:e.jsx("h3",{className:"m-0 fw-bolder mt-2 text-center text-md-start text-sin ",children:"Welcome"})})]})}),e.jsxs("form",{"aria-disabled":!0,onSubmit:s.handleSubmit,onChange:s.handleChange,className:"mt-4 w-100",children:[e.jsxs("div",{className:"row justify-content-around ",children:[e.jsx("div",{className:"col-md-6 ",children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("label",{htmlFor:"sponsorId",className:"form-label ",children:"Sponsor ID"}),e.jsxs("div",{className:"sponser d-flex gap-2 ",children:[e.jsx("input",{onKeyUp:E,onChange:s.handleChange,name:"sponsorId",type:"text",className:"form-control",id:"sponsorId"}),e.jsx("button",{onClick:()=>q(s.values.sponsorId),type:"button",className:"btn btn-search text-white ",children:"Search"})]}),s.errors.sponsorId&&s.touched.sponsorId?e.jsx("div",{className:"w-100 border d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.sponsorId}):null,e.jsx("div",{className:`${F} alert alert-danger p-1 fs-small mt-2 w-100`,role:"alert",children:"ID Not Found, Please enter valid ID"})]})}),e.jsx("div",{className:`${t} col-md-5 pe-4`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsxs("label",{htmlFor:"sponsorName",className:"form-label",children:["Your Sponser Name"," "]}),e.jsx("input",{disabled:!0,value:g.name,onChange:s.handleChange,name:"sponsorName",type:"text",className:"form-control not-allowed",id:"sponsorName"})]})})]}),e.jsxs("div",{className:"row justify-content-around",children:[e.jsx("div",{className:`${t} col-md-5 pe-4 offset-md-0`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{onChange:s.handleChange,name:"email",type:"email",className:"form-control",id:"email"}),s.errors.email&&s.touched.email?e.jsx("div",{className:"d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.email}):null]})}),e.jsx("div",{className:`${t} col-md-5 offset-md-1 pe-4`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),e.jsx("input",{onChange:s.handleChange,name:"phoneNumber",type:"text",className:"form-control",id:"phoneNumber"}),s.errors.phoneNumber&&s.touched.phoneNumber?e.jsx("div",{className:"d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.phoneNumber}):null]})})]}),e.jsxs("div",{className:"row justify-content-around",children:[e.jsx("div",{className:`${t} col-md-5 pe-4 offset-md-0`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsxs("label",{htmlFor:"fName",className:"form-label",children:["First Name"," "]}),e.jsx("input",{onChange:s.handleChange,name:"fName",type:"text",className:"form-control",id:"fName"}),s.errors.fName&&s.touched.fName?e.jsx("div",{className:"d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.fName}):null]})}),e.jsx("div",{className:`${t} col-md-5 offset-md-1 pe-4`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsxs("label",{htmlFor:"lName",className:"form-label",children:["Last Name"," "]}),e.jsx("input",{onChange:s.handleChange,name:"lName",type:"text",className:"form-control",id:"lName"}),s.errors.lName&&s.touched.lName?e.jsx("div",{className:"d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.lName}):null]})})]}),e.jsxs("div",{className:"row justify-content-around",children:[e.jsx("div",{className:`${t} col-md-5  pe-4 offset-md-0`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("label",{htmlFor:"countryId",className:"form-label",children:"Your Country"}),e.jsx("select",{onChange:s.handleChange,className:"form-select",name:"countryId",id:"countryId",children:v.map(a=>e.jsx("option",{value:a.id,selected:a.id==63,children:a.name},a.id))})]})}),e.jsx("div",{className:`${t} col-md-5 offset-md-1 pe-4`,children:e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("label",{htmlFor:"nationalId",className:"form-label",children:"National ID"}),e.jsx("input",{onChange:s.handleChange,name:"nationalId",type:"text",className:"form-control",id:"nationalId"}),s.errors.nationalId&&s.touched.nationalId?e.jsx("div",{className:"d-flex align-items-center mt-2 alert alert-danger alert-input",children:s.errors.nationalId}):null]})})]}),e.jsxs("div",{className:"row justify-content-center",children:[e.jsx("div",{className:"col-md-7 mt-3",children:e.jsx("button",{disabled:h,type:"submit",className:`${t} btn btn-sign-up`,children:h?e.jsx(T,{}):"Sign Up"})}),e.jsx("div",{className:"col-md-7 mt-2",children:e.jsx("div",{className:`${S} alert alert-danger p-2`,role:"alert",children:"email already exists"})})]})]}),e.jsxs("div",{className:"row mt-4 justify-content-center w-100 ",children:[e.jsx("div",{className:"col-12 col-md-5 p-0",children:e.jsx("p",{className:"m-0 mt-2 text-center fs-small",children:"If you have account, Please Sign in."})}),e.jsx("div",{className:"col-12 col-md-4",children:e.jsx(f,{className:"btn btn-sign-up not-active",to:"/sign-in",children:"Sign in"})})]})]})})]})]})}export{J as default};
