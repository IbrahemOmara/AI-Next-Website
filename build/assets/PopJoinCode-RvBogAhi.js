import{r as f,T as Q,w as Z,D as ee,j as e,y as T,q as ne,f as P,g as B,h as z,d as te,B as se}from"./index-rN5JyR99.js";import{u as ie,d as ae,o as L,e as R,r as re,B as E,D as M,a as A,b as J}from"./Typography-YVUBnHeO.js";import{D as I}from"./DialogContentText-tu1HCV76.js";function oe(s,i=166){let l;function n(...a){const r=()=>{s.apply(this,a)};clearTimeout(l),l=setTimeout(r,i)}return n.clear=()=>{clearTimeout(l)},n}const le=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ce(s,i,l){const n=i.getBoundingClientRect(),a=l&&l.getBoundingClientRect(),r=L(i);let d;if(i.fakeTransform)d=i.fakeTransform;else{const o=r.getComputedStyle(i);d=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}let u=0,c=0;if(d&&d!=="none"&&typeof d=="string"){const o=d.split("(")[1].split(")")[0].split(",");u=parseInt(o[4],10),c=parseInt(o[5],10)}return s==="left"?a?`translateX(${a.right+u-n.left}px)`:`translateX(${r.innerWidth+u-n.left}px)`:s==="right"?a?`translateX(-${n.right-a.left-u}px)`:`translateX(-${n.left+n.width-u}px)`:s==="up"?a?`translateY(${a.bottom+c-n.top}px)`:`translateY(${r.innerHeight+c-n.top}px)`:a?`translateY(-${n.top-a.top+n.height-c}px)`:`translateY(-${n.top+n.height-c}px)`}function de(s){return typeof s=="function"?s():s}function v(s,i,l){const n=de(l),a=ce(s,i,n);a&&(i.style.webkitTransform=a,i.style.transform=a)}const O=f.forwardRef(function(i,l){const n=ie(),a={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:d,appear:u=!0,children:c,container:o,direction:m="down",easing:j=a,in:x,onEnter:w,onEntered:N,onEntering:b,onExit:h,onExited:y,onExiting:U,style:k,timeout:S=r,TransitionComponent:V=Q}=i,Y=Z(i,le),g=f.useRef(null),F=ee(ae(c),g,l),C=t=>p=>{t&&(p===void 0?t(g.current):t(g.current,p))},W=C((t,p)=>{v(m,t,o),re(t),w&&w(t,p)}),X=C((t,p)=>{const D=R({timeout:S,style:k,easing:j},{mode:"enter"});t.style.webkitTransition=n.transitions.create("-webkit-transform",T({},D)),t.style.transition=n.transitions.create("transform",T({},D)),t.style.webkitTransform="none",t.style.transform="none",b&&b(t,p)}),_=C(N),q=C(U),G=C(t=>{const p=R({timeout:S,style:k,easing:j},{mode:"exit"});t.style.webkitTransition=n.transitions.create("-webkit-transform",p),t.style.transition=n.transitions.create("transform",p),v(m,t,o),h&&h(t)}),H=C(t=>{t.style.webkitTransition="",t.style.transition="",y&&y(t)}),K=t=>{d&&d(g.current,t)},$=f.useCallback(()=>{g.current&&v(m,g.current,o)},[m,o]);return f.useEffect(()=>{if(x||m==="down"||m==="right")return;const t=oe(()=>{g.current&&v(m,g.current,o)}),p=L(g.current);return p.addEventListener("resize",t),()=>{t.clear(),p.removeEventListener("resize",t)}},[m,x,o]),f.useEffect(()=>{x||$()},[x,$]),e.jsx(V,T({nodeRef:g,onEnter:W,onEntered:_,onEntering:X,onExit:G,onExited:H,onExiting:q,addEndListener:K,appear:u,in:x,timeout:S},Y,{children:(t,p)=>f.cloneElement(c,T({ref:F,style:T({visibility:t==="exited"&&!x?"hidden":void 0},k,c.props.style)},p))}))});function me({trainging:s,joinMeeting:i,dataUser:l}){const[n,a]=f.useState(""),r=async c=>{try{return(await P.get(`${B}/User/GetTrainningByCode?TrainningCode=${c}`)).data.createdBy}catch(o){z.error(o.response),console.error(o)}},d=async(c,o)=>{let m;return await r(o)===l.customerAttributeId?m=`https://livezoon.com/join?room=${c}&roomPassword=false&name=admin&username=admin&audio=true&video=false&screen=false&notify=false&admin=1&&origin=ncomes.network&priamry_color=#223f4a`:m=`https://livezoon.com/join?room=${c}&roomPassword=false&name=${l.name}&roomPassword=false&audio=false&video=false&screen=false&notify=false`,m},u=async(c,o,m)=>{const j=m.currentTarget.querySelector(".name-meeting");document.querySelectorAll(".name-meeting").forEach(x=>{x.classList.remove("text-main")}),j.classList.add("text-main"),a(j),i(await d(c,o))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"`time-meeting` d-flex fw-bold",children:[e.jsxs("button",{onClick:c=>u(s.trainingName,s.trainningCode,c),className:"btn flex-grow-1 d-flex gap-3 border-0 ",children:[e.jsx("div",{className:"icon-time",children:e.jsx("i",{className:"fa-solid fa-square text-success"})}),e.jsx("div",{className:`name-meeting ${n}`,children:e.jsx("p",{className:"fs-6 fw-bold ",children:s.trainingName})})]}),e.jsx("div",{className:"time",children:e.jsx("p",{className:"fs-6 ",children:s.trainingDate?ne(new Date(s.trainingDate),"MMM /d - h : mm a"):""})})]},s.trainingId)})}const fe=f.forwardRef(function(i,l){return e.jsx(O,{direction:"up",ref:l,...i})});function ge({data:s,join:i}){const[l,n]=f.useState(!1),a=JSON.parse(localStorage.getItem("dataAuth")),r=()=>{n(!0)},d=()=>{n(!1)};return e.jsxs(f.Fragment,{children:[e.jsxs(E,{className:"text-black border text-capitalize fw-bold d-block m-auto more-btn",onClick:r,children:["More",e.jsx("i",{className:"fa-solid fa-arrow-right"})]}),e.jsxs(M,{open:l,TransitionComponent:fe,onClose:d,children:[e.jsx(A,{className:"p-0",style:{width:"clamp(350px,50vw,500px)"},children:e.jsx(I,{className:"",id:"alert-dialog-slide-description",children:e.jsxs("div",{className:"upcoming-meeting py-4 px-3 bg-body rounded-3 shadow-light",children:[e.jsx("h4",{className:"fw-bold text-center mb-5",children:"Upcoming Meetings"}),s==null?void 0:s.map((u,c)=>new Date(u.trainingDate)-new Date>=-144e5?e.jsx(me,{dataUser:a,trainging:u,joinMeeting:i},c):"")]})})}),e.jsx(J,{children:e.jsx(E,{onClick:d,className:"text-black text-capitalize fw-bold",children:"Close"})})]})]})}const ue=f.forwardRef(function(i,l){return e.jsx(O,{direction:"up",ref:l,...i})});function je({join:s}){const[i,l]=f.useState(!1),[n,a]=f.useState(!1),[r,d]=f.useState({}),[u,c]=f.useState(""),o=JSON.parse(localStorage.getItem("dataAuth")),m=()=>{l(!0)},j=()=>{l(!1)},x=b=>{P.get(`${B}/User/GetTrainningByCode?TrainningCode=${b}`).then(({data:h})=>{d(h),setTimeout(()=>{a(!1)},500)}).catch(h=>{console.log(h),z.error(h.response.data),c(h.response.data),setTimeout(()=>{a(!1)},500)})},w=te({initialValues:{TrainningCode:""},onSubmit:()=>{a(!0),w.values.TrainningCode&&x(w.values.TrainningCode)}}),N=(b,h)=>{let y;return h===o.customerAttributeId?y=`https://livezoon.com/join?room=${b}&roomPassword=false&name=admin&username=admin&audio=true&video=false&screen=false&notify=false&admin=1&&origin=ncomes.network&priamry_color=#223f4a`:y=`https://livezoon.com/join?room=${b}&roomPassword=false&name=${o.name}&roomPassword=false&audio=false&video=false&screen=false&notify=false`,y};return e.jsxs(f.Fragment,{children:[e.jsx("form",{onSubmit:w.handleSubmit,children:e.jsxs("div",{className:"code-meeting position-relative ",children:[e.jsx("input",{name:"TrainningCode",onChange:w.handleChange,type:"text",className:"form-control rounded-1",placeholder:"Enter Code"}),e.jsx("div",{className:"h-100 rounded-1 bg-main-color-2 border-start border-black position-absolute end-0 top-50 translate-middle-y",children:e.jsx(E,{type:"submit",className:"w-50 h-100 text-black",onClick:m,children:e.jsx("i",{className:"fa-solid fa-search"})})})]})}),e.jsxs(M,{open:i,TransitionComponent:ue,onClose:j,children:[e.jsx(A,{style:{width:"clamp(350px,50vw,500px)",height:"200px"},children:e.jsx(I,{className:"bg-main-color text-main p-3",id:"alert-dialog-slide-description",children:w.values.TrainningCode||!u?n?e.jsx(se,{}):e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsx("p",{className:"",children:"Trainning Name"}),e.jsx("p",{className:"",children:r==null?void 0:r.trainningName})]}),e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsx("p",{className:"",children:"Trainning Code"}),e.jsx("p",{className:"",children:r==null?void 0:r.trainningCode})]}),e.jsxs("div",{className:"info d-flex justify-content-between",children:[e.jsx("p",{className:"",children:"Date"}),e.jsx("p",{className:"",children:r==null?void 0:r.date})]})]}):`Enter Code and ${u}`})}),e.jsxs(J,{children:[e.jsx(E,{onClick:()=>s(()=>N(r.trainningName,r.createdBy)),className:"text-black text-capitalize fw-bold Y-border",children:"Join"}),e.jsx(E,{onClick:j,className:"text-black text-capitalize fw-bold ",children:"Close"})]})]})]})}export{ge as P,me as S,je as a};
