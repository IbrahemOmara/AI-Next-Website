import{u as A,r as l,j as s,p as g,B as d,h as m,i as p,e as x,f as h,g as j}from"./index-rN5JyR99.js";const f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgBlVVdbtNAEJ5d/xQppTInwDwTovQEuCfAN2h4Q9DQ9ARJT9CUBok30hPgnqC+QRBt3/cGsdT0JXZ2mEm9xjZuCCNZHm9mvvn7ZiPgHzKbDzzbzrqsZ5n9c//FONlkLzYBOQ4OAfSg4iDE6HXry+lTfvKpHxxXX9fBWBBxdLvof/8vQHLokWf3EQESRHGuNV6WTHo390dBk68NzXJoFI34vrN3EbFOIIpKHrJOvQrpFcM2GZKxb/TO3iQyOg1lWrLym3wbARFAGb1c2s6OfleyUlsDkhT9khKOjU59HJSCRlsDtncvppD3Z7nMTgoQ6meunL95PombfCs8rJPYcrOg05pUMvn1cBTWz8pi50C+46yIW6vAxKDvuN2aHPzlIOTL+hkHWS0z2qJvSjKY666IxBDU7C7rjncPn4fUxzENalSqyrdAnLmuc80VSspkiJjTJCcxJTnN+1huh89bwjpx8Zid1xnb2YD9+WGdSw6NU5ql+5w2NIjjpGFphpG5JKjXY0qKF8GTUhwyoPcYFVQZbLb42HWEtaaMBrxCDZ7IRyg1Xhk7AlZ3i35CNPI4Sw65jkQf3mz+wS8yAgJD6PEjEX0hsLi2tLTeVlrxZ7OUuLnv/6DIockSURIlNFMnKFqRpq8AniVU2tyckW1Etopse6ZKkqnIKcNT9qFBaBCnROIR67eLT7Qp8gyaRVHgA8k9SFOL+IZxFYlboU8MGEt79+uYXrwtqhY2ZjCeQX1TePR+JnQCqas2Xffm0qj/LfwGA64ZZMrz+csAAAAASUVORK5CYII=",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJBSURBVHgBtVRRbtNAEN1Z25EQQUpPUPMfILlBegLSEzT5Q1Da5AQoJ6CBCvFHOAHJCZIb2EDV771BLBFAynp3mHEcKyJepwh1pPXuemfezs7MGxAHJFoOGp6XdqSABu8RUKVpqtpHH1WVHbjAgkD3hJDPadtxmMZ0zbhZfz+5E/D3H+cdKeETogjJMKZ5RiM20io+91GS57ILgHxpCCAUojlt1j/ETuCb3xdnwuCElsoCDp8+vJ6KCrlZve7R9IYvEB70mg/efd4D/vbzvCsRvjCo1vrkUAy3QmELg8DMGRwRT548ul4UwHxYq5k5PVm4QG9/XVxaC2GzPh46wCMKS7Jee+320VUi+YAS1d3EVIxcnqLFAYDtlp0RENsMGcP30wH/y4AB5CWHwJXhu0hum1DizzJgLq3MWxRfxX+KtcgVFN7iq2NJrrf4J1JpHTKk5Kiqcy49ns0KHktxT+Knqa8oowIkHFcpUsGM6Nuo0gHYYBBmLDmjVHOKLLtVRlp7U63NtBo4o78qys0iMmMaOZP2ZNM7zDIIgojXZTpsm5fsmPcyd/2KpoTG22j5IvzbiD2gxFEo7IjXJRdzz2BqM2uzVxWU5uZDMZpzZtfrf6N0ztqQ+svptr8UVcEct1b0WaFWC+ausOwK95cCVIj+btPaa5vR6mUrEB43o7wlyim1xRnROQuBtTL0PPkMs2Qjc4B0sL9tPk7grWw8RqI6tMo1cEFjpnUwKYu7E7h4AcWQ2BkCQph5LDAxxl+Uge3KH4npLDUJS8BFAAAAAElFTkSuQmCC";function N({pkg:e}){let n=A();const a=JSON.parse(localStorage.getItem("cart_packages"))||[],[i,o]=l.useState(!1),t=c=>{o(!0),(a==null?void 0:a.find(r=>r.id===c.id))?(setTimeout(()=>{o(!1),n("/my-cart")},500),m.warning("This package found in your cart!")):(a.push(c),localStorage.setItem("cart_packages",JSON.stringify(a)),setTimeout(()=>{n("/my-cart"),o(!1)},500))};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"img-card",children:s.jsx("img",{src:e.photo?e.photo:g})}),s.jsxs("div",{className:"description ",children:[s.jsx("h5",{children:e.name}),s.jsx("p",{children:e.shortDescription}),s.jsxs("div",{className:"row gy-3 justify-content-between",children:[s.jsx("div",{className:"col-6 col-md-4",children:s.jsxs("div",{className:"cv",children:[s.jsx("img",{className:"me-2 icon",src:f}),s.jsx("span",{children:e.sponsorDistributorToDistributor})," CV"]})}),s.jsx("div",{className:"col-6 col-md-4",children:s.jsxs("div",{className:"packages-state",children:[s.jsx("img",{className:"me-2 icon",src:u}),s.jsx("span",{children:e.sponsorDistributorToDistributor})," D.C"]})}),s.jsx("div",{className:"col-12 col-md-4",children:s.jsxs("div",{className:"price text-black fw-bold  ",children:[s.jsx("i",{className:"fa-solid fa-braille me-2"}),s.jsx("span",{children:"Pionts"})," ",s.jsx("span",{children:e.price})]})})]}),s.jsx("button",{disabled:i,onClick:()=>t(e),className:"btn-get-package fw-bold",children:i?s.jsx(d,{color:"#000"}):" Get Package"})]})]})})}function v(){let e=JSON.parse(localStorage.getItem("cart_packages"))||[];const n=()=>h.get(`${j}/Admin/GetAllPackages`);let{data:a,isLoading:i,isError:o}=p("getAllPackages",n,{refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1});console.log(a);const t=(a==null?void 0:a.data)!="Not found any packages"?a==null?void 0:a.data.map(c=>c):[];return console.log(t),t&&e.length===0&&(e.push(t[0]),localStorage.setItem("cart_packages",JSON.stringify(e)),console.log(e)),l.useEffect(()=>{n(),e||(localStorage.setItem("cart_packages",JSON.stringify([])),console.log(e))},[]),i?s.jsx(x,{}):s.jsx(s.Fragment,{children:s.jsx("section",{className:"packages min-vh-100",id:"packages",children:s.jsxs("div",{className:"container-lg px-3 py-5",children:[s.jsx("h2",{className:"fw-bolder mb-5",children:"Packages:"}),s.jsx("div",{className:"row justify-content-center gy-5 ",children:t&&t.filter(c=>c.packageTypeId!=1).length>0?t.filter(c=>c.packageTypeId!=1).map(c=>s.jsx("div",{className:"col-sm-6",children:s.jsx(N,{pkg:c})},c.id)):s.jsx("h4",{className:"text-center text-muted",children:"No packages found"})})]})})})}export{v as default};
