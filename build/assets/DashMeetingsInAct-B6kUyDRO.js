import{r as l,i as b,j as e,e as v,f as y,g as M}from"./index-rN5JyR99.js";import{S,P as A,a as U}from"./PopJoinCode-RvBogAhi.js";import"./Typography-YVUBnHeO.js";import"./DialogContentText-tu1HCV76.js";function k(){var x;const i=JSON.parse(localStorage.getItem("dataAuth")),[r,u]=l.useState(""),[j,c]=l.useState(!1),[d,h]=l.useState(""),[p,m]=l.useState(!1),f={height:"100vh",width:"100%",border:"0px"},N=()=>{d===""?(h("position-absolute top-0 start-0 w-100 vh-100 z-3"),m(!0)):(h(""),m(!1))},w=s=>(console.log(s),y.get(`${M}/User/GetAllTrainningsForCustomer?customerAttribueId=${s}`)),{data:t,isLoading:I,error:a,refetch:F}=b("getAllTrainningsForCustomer",()=>w(i.customerAttributeId),{refetchOnMount:!1,refetchInterval:!1}),n=t==null?void 0:t.data.filter(s=>new Date(s.trainingDate)-new Date>=-144e5),o=s=>{c(!0),u(s),c(!1)};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"dash-Meetings mt-5 ",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"row gy-5",children:[e.jsx("div",{className:"col-md-5",children:e.jsxs("div",{className:"row gy-4 pt-1",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"upcoming-meeting py-4 px-3 bg-grdient rounded-3 shadow-light h-100",children:[e.jsx("h4",{className:"fw-bold text-center mb-5",children:"Upcoming Meetings"}),a?e.jsx("h3",{className:"text-center fw-bold",children:(x=a==null?void 0:a.response)==null?void 0:x.data}):e.jsxs("div",{className:"",children:[n==null?void 0:n.map((s,g)=>g<4?e.jsx(S,{dataUser:i,trainging:s,joinMeeting:o},g):""),e.jsx(A,{data:t==null?void 0:t.data,join:o})]})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"w-100 py-4 px-3 bg-body rounded-3 shadow-light Y-border",children:[e.jsx("h6",{className:"fw-bold",children:"Join a Meeting"}),e.jsx("div",{className:"row align-items-center",children:e.jsx("div",{className:"col-7",children:e.jsx(U,{join:o})})})]})})]})}),e.jsx("div",{className:`col-md-7 ${d}`,children:e.jsxs("div",{className:"now-meeting rounded-4 overflow-hidden shadow position-relative",children:[e.jsx("button",{disabled:!r,onClick:N,className:"btn border-0 p-0 toggle-screen text-white d-block ms-auto",children:e.jsx("i",{className:`fa-solid fa-${p?"compress":"expand"} fa-2x`})}),r?e.jsx("iframe",{allow:"camera; microphone; display-capture; fullscreen; clipboard-read; clipboard-write; autoplay",src:r,style:f,className:"w-100 object-fit-fill d-block "}):j?e.jsx(v,{}):e.jsx("div",{className:"d-flex align-items-center justify-content-center rounded-4 overflow-hidden shadow border",style:{height:"80vh"},children:e.jsx("h5",{className:"text-center",children:"No Meeting Now"})})]})})]})})})})}export{k as default};
